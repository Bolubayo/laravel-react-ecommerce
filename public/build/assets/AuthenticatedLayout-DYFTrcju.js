import{K as m,j as e,$ as n,r as i,m as g}from"./app-B8WagT0Y.js";function x({amount:t,currency:r="USD",locale:a}){return new Intl.NumberFormat(a,{style:"currency",currency:r}).format(t)}const S=(t,r)=>t.length!=r.length?!1:t.every((a,s)=>a===r[s]),j=t=>{const r=new URLSearchParams;return Object.entries(t.option_ids).forEach(([a,s])=>{r.append(`options[${a}]`,s+"")}),route("product.show",t.slug)+"?"+r.toString()};function f(){const{totalQuantity:t,totalPrice:r,miniCartItems:a}=m().props;return e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle",children:e.jsxs("div",{className:"indicator",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("span",{className:"badge badge-sm indicator-item",children:t})]})}),e.jsx("div",{tabIndex:0,className:"card card-compact dropdown-content bg-base-100 z-1 mt-3 w-[480px] shadow",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("span",{className:"text-lg font-bold",children:[t," Items"]}),e.jsxs("div",{className:"my-4 max-h-[300px] overflow-auto",children:[a.length===0&&e.jsx("div",{className:"py-2 text-gray-500 text-center",children:"You don't have any items yet."}),a.map(s=>e.jsxs("div",{className:"{flex gap-4 p-3}",children:[e.jsx(n,{href:j(s),className:"w-16 h-16 flex justify-center items-center",children:e.jsx("img",{src:s.image,alt:s.title,className:"max-w-full max-h-full"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-3 font-semibold",children:e.jsx(n,{href:j(s),children:s.title})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("div",{children:["Quantity: ",s.quantity]}),e.jsx("div",{children:e.jsx(x,{amount:s.quantity*s.price})})]})]})]},s.id))]}),e.jsxs("span",{className:"text-lg",children:["Subtotal: ",e.jsx(x,{amount:r})]}),e.jsx("div",{className:"card-actions",children:e.jsx(n,{href:route("cart.index"),className:"btn btn-primary btn-block",children:"View cart"})})]})})]})}function v({title:t,titleId:r,...a},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const N=i.forwardRef(v);function w(){const{auth:t,departments:r,keyword:a}=m().props,{user:s}=t,o=g({keyword:a||""}),{url:d}=m(),u=c=>{c.preventDefault(),o.get(d,{preserveScroll:!0,preserveState:!0})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"navbar bg-base-100 shadow-sm",children:[e.jsx("div",{className:"flex-1",children:e.jsx(n,{href:"/",className:"btn btn-ghost text-xl",children:"Daniel Store"})}),e.jsxs("div",{className:"flex-none gap-4",children:[e.jsxs("form",{onSubmit:u,className:"join flex-1",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{value:o.data.keyword,onChange:c=>o.setData("keyword",c.target.value),className:"input input-bordered join-item w-full",placeholder:"Search"})}),e.jsx("div",{className:"indicator",children:e.jsxs("button",{className:"btn join-item",children:[e.jsx(N,{className:"size-4"}),"Search"]})})]}),e.jsx(f,{}),s&&e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",children:e.jsx("div",{className:"w-10 rounded-full",children:e.jsx("img",{alt:"Tailwind CSS Navbar component",src:"https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp"})})}),e.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-1 mt-3 w-52 p-2 shadow",children:[e.jsx("li",{children:e.jsx(n,{href:route("profile.edit"),className:"justify-between",children:"Profile"})}),e.jsx("li",{children:e.jsx(n,{href:route("logout"),method:"post",as:"button",children:"Logout"})})]})]}),!s&&e.jsxs(e.Fragment,{children:[e.jsx(n,{href:route("login"),className:"btn",children:"Login"}),e.jsx(n,{href:route("register"),className:"btn btn-primary",children:"Register"})]})]})]}),e.jsx("div",{className:"navbar bg-base-100 border-t min-h-4",children:e.jsx("div",{className:"navbar-center hidden lg:flex",children:e.jsx("ul",{className:"menu menu-horizontal px-1 z-20 py-0",children:r.map(c=>e.jsx("li",{children:e.jsx(n,{href:route("product.byDepartment",c.slug),children:c.name})},c.id))})})})]})}function k({header:t,children:r}){const a=m().props;a.auth.user;const[s,o]=i.useState([]),d=i.useRef({}),[u,c]=i.useState(!1);return i.useEffect(()=>{if(a.success.message){const l={...a.success,id:a.success.time};o(h=>[l,...h]);const p=setTimeout(()=>{o(h=>h.filter(b=>b.id!==l.id)),delete d.current[l.id]},5e3);d.current[l.id]=p}},[a.success]),e.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(w,{}),a.error&&e.jsx("div",{className:"container mx-auto px-8 mt-8",children:e.jsx("div",{className:"alert alert-error",children:a.error})}),s.length>0&&e.jsx("div",{className:"toast toast-top toast-end z-[1000] mt-16",children:s.map(l=>e.jsx("div",{className:"alert alert-success",children:e.jsx("span",{children:l.message})},l.id))}),e.jsx("main",{children:r})]})}export{k as A,x as C,S as a,j as p};
