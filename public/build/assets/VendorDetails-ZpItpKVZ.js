import{r as v,K as f,m as B,j as e}from"./app-B8WagT0Y.js";import{P as o}from"./PrimaryButton-D3ox99pz.js";import{M as D,S as I}from"./SecondaryButton-CgL9n1iM.js";import{I as g}from"./InputLabel-_iaPPqhG.js";import{T as M}from"./TextInput-7qInl7oe.js";import{I as b}from"./InputError-C1afl3gu.js";import"./transition-CQqrU56O.js";function K({className:N=""}){var u,x,p,h,j;const[S,n]=v.useState(!1),[_,d]=v.useState(""),s=f().props.auth.user,y=f().props.csrf_token,{data:c,setData:l,errors:m,post:i,processing:a,recentlySuccessful:C}=B({store_name:((u=s.vendor)==null?void 0:u.store_name)||s.name.toLowerCase().replace(/\s/g,"-"),store_address:(x=s.vendor)==null?void 0:x.store_address}),w=r=>{l("store_name",r.target.value.toLowerCase().replace(/\s+/g,"-"))},k=r=>{r.preventDefault(),i(route("vendor.store"),{preserveScroll:!0,onSuccess:()=>{t(),d("You can now create and publish products.")},onError:E=>{}})},V=r=>{r.preventDefault(),i(route("vendor.store"),{preserveScroll:!0,onSuccess:()=>{t(),d("Your details were updated.")},onError:E=>{}})},t=()=>{n(!1)};return e.jsxs("section",{className:N,children:[C&&e.jsx("div",{className:"toast toast-top toast-end",children:e.jsx("div",{className:"alert alert-success",children:e.jsx("span",{children:_})})}),e.jsx("header",{children:e.jsxs("h2",{className:"flex justify-between mb-8 text-lg font-medium text-gray-900 dark:text-gray-100",children:["Vendor Details",((p=s.vendor)==null?void 0:p.status)==="pending"&&e.jsx("span",{className:"badge badge-warning",children:s.vendor.status_label}),((h=s.vendor)==null?void 0:h.status)==="rejected"&&e.jsx("span",{className:"badge badge-error",children:s.vendor.status_label}),((j=s.vendor)==null?void 0:j.status)==="approved"&&e.jsx("span",{className:"badge badge-success",children:s.vendor.status_label})]})}),e.jsxs("div",{children:[!s.vendor&&e.jsx(o,{onClick:r=>n(!0),disabled:a,children:"Become a Vendor"}),s.vendor&&e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:V,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(g,{htmlFor:"name",value:"Store Name"}),e.jsx(M,{id:"name",className:"mt-1 block w-full",value:c.store_name,onChange:w,required:!0,isFocused:!0,autoComplete:"name"}),e.jsx(b,{className:"mt-2",message:m.store_name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(g,{htmlFor:"name",value:"Store Address"}),e.jsx("textarea",{className:"textarea textarea-bordered w-full mt-1",value:c.store_address,onChange:r=>l("store_address",r.target.value),placeholder:"Enter Your Store Address"}),e.jsx(b,{className:"mt-2",message:m.store_address})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(o,{disabled:a,children:"Update"})})]}),e.jsxs("form",{action:route("stripe.connect"),method:"post",className:"my-8",children:[e.jsx("input",{type:"hidden",name:"_token",value:y}),s.stripe_account_active&&e.jsx("div",{className:"text-center text-gray-600 my-4 text-sm",children:"You are successfully connected to Stripe"}),e.jsx("button",{className:"btn btn-primary w-full",disabled:s.stripe_account_active,children:"Connect to Stripe"})]})]})]}),e.jsx(D,{show:S,onClose:t,children:e.jsxs("form",{onSubmit:k,className:"p-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Are you sure you want to become a Vendor?"}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(I,{onClick:t,children:"Cancel"}),e.jsx(o,{className:"ms-3",disabled:a,children:"Confirm"})]})]})})]})}export{K as default};
